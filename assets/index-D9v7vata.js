const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/install-dialog-4XZPyoBw.js","assets/styles-BcHT06vS.js","assets/index-CXzaFU8d.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();const ct=!1;var ee=Array.isArray,re=Array.prototype.indexOf,ne=Array.from,oe=Object.defineProperty,pt=Object.getOwnPropertyDescriptor,xt=Object.getOwnPropertyDescriptors,Tt=Object.getPrototypeOf;function le(t){return t()}function _t(t){for(var e=0;e<t.length;e++)t[e]()}const S=2,kt=4,lt=8,st=16,O=32,q=64,Y=128,w=256,W=512,y=1024,P=2048,U=4096,Z=8192,J=16384,se=32768,ie=65536,ue=1<<19,At=1<<20,dt=Symbol("$state");function Ct(t){return t===this.v}function ae(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function fe(t){return!ae(t,this.v)}function ce(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _e(t){throw new Error("https://svelte.dev/e/effect_orphan")}function de(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ve(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function he(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let M=!1,me=!1;function ge(){M=!0}const we=2;function ye(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let _=null;function vt(t){_=t}function Ot(t,e=!1,r){_={p:_,c:null,e:null,m:!1,s:t,x:null,l:null},M&&!e&&(_.l={s:null,u:null,r1:[],r2:Lt(!1)})}function Pt(t){const e=_;if(e!==null){const s=e.e;if(s!==null){var r=d,n=p;e.e=null;try{for(var l=0;l<s.length;l++){var o=s[l];D(o.effect),N(o.reaction),$t(o.fn)}}finally{D(r),N(n)}}_=e.p,e.m=!0}return{}}function Q(){return!M||_!==null&&_.l===null}function Lt(t,e){var r={f:0,v:t,reactions:null,equals:Ct,rv:0,wv:0};return r}function Ee(t,e=!1){var n;const r=Lt(t);return e||(r.equals=fe),M&&_!==null&&_.l!==null&&((n=_.l).s??(n.s=[])).push(r),r}function be(t,e=!1){return Se(Ee(t,e))}function Se(t){return p!==null&&!E&&(p.f&S)!==0&&(x===null?$e([t]):x.push(t)),t}function xe(t,e){return p!==null&&!E&&Q()&&(p.f&(S|st))!==0&&(x===null||!x.includes(t))&&he(),Te(t,e)}function Te(t,e){return t.equals(e)||(t.v,t.v=e,t.wv=Gt(),Rt(t,P),Q()&&d!==null&&(d.f&y)!==0&&(d.f&(O|q))===0&&(k===null?Be([t]):k.push(t))),e}function Rt(t,e){var r=t.reactions;if(r!==null)for(var n=Q(),l=r.length,o=0;o<l;o++){var s=r[o],i=s.f;(i&P)===0&&(!n&&s===d||(C(s,e),(i&(y|w))!==0&&((i&S)!==0?Rt(s,U):at(s))))}}var ht,Ft,Nt,Dt;function ke(){if(ht===void 0){ht=window,Ft=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype;Nt=pt(e,"firstChild").get,Dt=pt(e,"nextSibling").get,t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__styles=null,t.__e=void 0,Text.prototype.__t=void 0}}function Ae(t=""){return document.createTextNode(t)}function Ut(t){return Nt.call(t)}function qt(t){return Dt.call(t)}function Ce(t,e){return Ut(t)}function Oe(t,e=1,r=!1){let n=t;for(;e--;)n=qt(n);return n}function Mt(t){var e=S|P,r=p!==null&&(p.f&S)!==0?p:null;return d===null||r!==null&&(r.f&w)!==0?e|=w:d.f|=At,{ctx:_,deps:null,effects:null,equals:Ct,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??d}}function jt(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)R(e[r])}}function Pe(t){for(var e=t.parent;e!==null;){if((e.f&S)===0)return e;e=e.parent}return null}function Le(t){var e,r=d;D(Pe(t));try{jt(t),e=zt(t)}finally{D(r)}return e}function It(t){var e=Le(t),r=(A||(t.f&w)!==0)&&t.deps!==null?U:y;C(t,r),t.equals(e)||(t.v=e,t.wv=Gt())}function Ht(t){d===null&&p===null&&_e(),p!==null&&(p.f&w)!==0&&d===null&&pe(),it&&ce()}function Re(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function j(t,e,r,n=!0){var l=(t&q)!==0,o=d,s={ctx:_,deps:null,nodes_start:null,nodes_end:null,f:t|P,first:null,fn:e,last:null,next:null,parent:l?null:o,prev:null,teardown:null,transitions:null,wv:0};if(r)try{ut(s),s.f|=se}catch(c){throw R(s),c}else e!==null&&at(s);var i=r&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(At|Y))===0;if(!i&&!l&&n&&(o!==null&&Re(s,o),p!==null&&(p.f&S)!==0)){var u=p;(u.effects??(u.effects=[])).push(s)}return s}function rt(t){Ht();var e=d!==null&&(d.f&O)!==0&&_!==null&&!_.m;if(e){var r=_;(r.e??(r.e=[])).push({fn:t,effect:d,reaction:p})}else{var n=$t(t);return n}}function Fe(t){return Ht(),De(t)}function Ne(t){const e=j(q,t,!0);return(r={})=>new Promise(n=>{r.outro?Ie(e,()=>{R(e),n(void 0)}):(R(e),n(void 0))})}function $t(t){return j(kt,t,!1)}function De(t){return j(lt,t,!0)}function Ue(t,e=[],r=Mt){const n=e.map(r);return qe(()=>t(...n.map(et)))}function qe(t,e=0){return j(lt|st|e,t,!0)}function Me(t,e=!0){return j(lt|O,t,!0,e)}function Bt(t){var e=t.teardown;if(e!==null){const r=it,n=p;mt(!0),N(null);try{e.call(null)}finally{mt(r),N(n)}}}function Vt(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var n=r.next;R(r,e),r=n}}function je(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&O)===0&&R(e),e=r}}function R(t,e=!0){var r=!1;if((e||(t.f&ue)!==0)&&t.nodes_start!==null){for(var n=t.nodes_start,l=t.nodes_end;n!==null;){var o=n===l?null:qt(n);n.remove(),n=o}r=!0}Vt(t,e&&!r),z(t,0),C(t,J);var s=t.transitions;if(s!==null)for(const u of s)u.stop();Bt(t);var i=t.parent;i!==null&&i.first!==null&&Yt(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function Yt(t){var e=t.parent,r=t.prev,n=t.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=r))}function Ie(t,e){var r=[];Wt(t,r,!0),He(r,()=>{R(t),e&&e()})}function He(t,e){var r=t.length;if(r>0){var n=()=>--r||e();for(var l of t)l.out(n)}else e()}function Wt(t,e,r){if((t.f&Z)===0){if(t.f^=Z,t.transitions!==null)for(const s of t.transitions)(s.is_global||r)&&e.push(s);for(var n=t.first;n!==null;){var l=n.next,o=(n.f&ie)!==0||(n.f&O)!==0;Wt(n,e,o?r:!1),n=l}}}let $=!1,nt=!1,G=null,B=!1,it=!1;function mt(t){it=t}let V=[];let p=null,E=!1;function N(t){p=t}let d=null;function D(t){d=t}let x=null;function $e(t){x=t}let h=null,m=0,k=null;function Be(t){k=t}let Zt=1,K=0,A=!1;function Gt(){return++Zt}function X(t){var a;var e=t.f;if((e&P)!==0)return!0;if((e&U)!==0){var r=t.deps,n=(e&w)!==0;if(r!==null){var l,o,s=(e&W)!==0,i=n&&d!==null&&!A,u=r.length;if(s||i){var c=t,g=c.parent;for(l=0;l<u;l++)o=r[l],(s||!((a=o==null?void 0:o.reactions)!=null&&a.includes(c)))&&(o.reactions??(o.reactions=[])).push(c);s&&(c.f^=W),i&&g!==null&&(g.f&w)===0&&(c.f^=w)}for(l=0;l<u;l++)if(o=r[l],X(o)&&It(o),o.wv>t.wv)return!0}(!n||d!==null&&!A)&&C(t,y)}return!1}function Ve(t,e){for(var r=e;r!==null;){if((r.f&Y)!==0)try{r.fn(t);return}catch{r.f^=Y}r=r.parent}throw $=!1,t}function Ye(t){return(t.f&J)===0&&(t.parent===null||(t.parent.f&Y)===0)}function tt(t,e,r,n){if($){if(r===null&&($=!1),Ye(e))throw t;return}r!==null&&($=!0);{Ve(t,e);return}}function Kt(t,e,r=!0){var n=t.reactions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];(o.f&S)!==0?Kt(o,e,!1):e===o&&(r?C(o,P):(o.f&y)!==0&&C(o,U),at(o))}}function zt(t){var v;var e=h,r=m,n=k,l=p,o=A,s=x,i=_,u=E,c=t.f;h=null,m=0,k=null,A=(c&w)!==0&&(E||!B||p===null),p=(c&(O|q))===0?t:null,x=null,vt(t.ctx),E=!1,K++;try{var g=(0,t.fn)(),a=t.deps;if(h!==null){var f;if(z(t,m),a!==null&&m>0)for(a.length=m+h.length,f=0;f<h.length;f++)a[m+f]=h[f];else t.deps=a=h;if(!A)for(f=m;f<a.length;f++)((v=a[f]).reactions??(v.reactions=[])).push(t)}else a!==null&&m<a.length&&(z(t,m),a.length=m);if(Q()&&k!==null&&!E&&a!==null&&(t.f&(S|U|P))===0)for(f=0;f<k.length;f++)Kt(k[f],t);return l!==null&&K++,g}finally{h=e,m=r,k=n,p=l,A=o,x=s,vt(i),E=u}}function We(t,e){let r=e.reactions;if(r!==null){var n=re.call(r,t);if(n!==-1){var l=r.length-1;l===0?r=e.reactions=null:(r[n]=r[l],r.pop())}}r===null&&(e.f&S)!==0&&(h===null||!h.includes(e))&&(C(e,U),(e.f&(w|W))===0&&(e.f^=W),jt(e),z(e,0))}function z(t,e){var r=t.deps;if(r!==null)for(var n=e;n<r.length;n++)We(t,r[n])}function ut(t){var e=t.f;if((e&J)===0){C(t,y);var r=d,n=_,l=B;d=t,B=!0;try{(e&st)!==0?je(t):Vt(t),Bt(t);var o=zt(t);t.teardown=typeof o=="function"?o:null,t.wv=Zt;var s=t.deps,i;ct&&me&&t.f&P}catch(u){tt(u,t,r,n||t.ctx)}finally{B=l,d=r}}}function Ze(){try{de()}catch(t){if(G!==null)tt(t,G,null);else throw t}}function Ge(){try{for(var t=0;V.length>0;){t++>1e3&&Ze();var e=V,r=e.length;V=[];for(var n=0;n<r;n++){var l=e[n];(l.f&y)===0&&(l.f^=y);var o=ze(l);Ke(o)}}}finally{nt=!1,G=null}}function Ke(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var n=t[r];if((n.f&(J|Z))===0)try{X(n)&&(ut(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Yt(n):n.fn=null))}catch(l){tt(l,n,null,n.ctx)}}}function at(t){nt||(nt=!0,queueMicrotask(Ge));for(var e=G=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(q|O))!==0){if((r&y)===0)return;e.f^=y}}V.push(e)}function ze(t){for(var e=[],r=t.first;r!==null;){var n=r.f,l=(n&O)!==0,o=l&&(n&y)!==0;if(!o&&(n&Z)===0){if((n&kt)!==0)e.push(r);else if(l)r.f^=y;else{var s=p;try{p=r,X(r)&&ut(r)}catch(c){tt(c,r,null,r.ctx)}finally{p=s}}var i=r.first;if(i!==null){r=i;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)r=u.next,u=u.parent}return e}function et(t){var e=t.f,r=(e&S)!==0;if(p!==null&&!E){x!==null&&x.includes(t)&&ve();var n=p.deps;t.rv<K&&(t.rv=K,h===null&&n!==null&&n[m]===t?m++:h===null?h=[t]:(!A||!h.includes(t))&&h.push(t))}else if(r&&t.deps===null&&t.effects===null){var l=t,o=l.parent;o!==null&&(o.f&w)===0&&(l.f^=w)}return r&&(l=t,X(l)&&It(l)),t.v}function Jt(t){var e=E;try{return E=!0,t()}finally{E=e}}const Je=-7169;function C(t,e){t.f=t.f&Je|e}function Qe(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(dt in t)ot(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&dt in r&&ot(r)}}}function ot(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{ot(t[n],e)}catch{}const r=Tt(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=xt(r);for(let l in n){const o=n[l].get;if(o)try{o.call(t)}catch{}}}}}const Xe=["touchstart","touchmove"];function tr(t){return Xe.includes(t)}const er=new Set,gt=new Set;function H(t){var ft;var e=this,r=e.ownerDocument,n=t.type,l=((ft=t.composedPath)==null?void 0:ft.call(t))||[],o=l[0]||t.target,s=0,i=t.__root;if(i){var u=l.indexOf(i);if(u!==-1&&(e===document||e===window)){t.__root=e;return}var c=l.indexOf(e);if(c===-1)return;u<=c&&(s=u)}if(o=l[s]||t.target,o!==e){oe(t,"currentTarget",{configurable:!0,get(){return o||r}});var g=p,a=d;N(null),D(null);try{for(var f,v=[];o!==null;){var T=o.assignedSlot||o.parentNode||o.host||null;try{var L=o["__"+n];if(L!==void 0&&(!o.disabled||t.target===o))if(ee(L)){var[Xt,...te]=L;Xt.apply(o,[t,...te])}else L.call(o,t)}catch(I){f?v.push(I):f=I}if(t.cancelBubble||T===e||T===null)break;o=T}if(f){for(let I of v)queueMicrotask(()=>{throw I});throw f}}finally{t.__root=e,delete t.currentTarget,N(g),D(a)}}}function rr(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function nr(t,e){var r=d;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function or(t,e){var r=(e&we)!==0,n,l=!t.startsWith("<!>");return()=>{n===void 0&&(n=rr(l?t:"<!>"+t),n=Ut(n));var o=r||Ft?document.importNode(n,!0):n.cloneNode(!0);return nr(o,o),o}}function lr(t,e){t!==null&&t.before(e)}function sr(t,e){return ir(t,e)}const F=new Map;function ir(t,{target:e,anchor:r,props:n={},events:l,context:o,intro:s=!0}){ke();var i=new Set,u=a=>{for(var f=0;f<a.length;f++){var v=a[f];if(!i.has(v)){i.add(v);var T=tr(v);e.addEventListener(v,H,{passive:T});var L=F.get(v);L===void 0?(document.addEventListener(v,H,{passive:T}),F.set(v,1)):F.set(v,L+1)}}};u(ne(er)),gt.add(u);var c=void 0,g=Ne(()=>{var a=r??e.appendChild(Ae());return Me(()=>{if(o){Ot({});var f=_;f.c=o}l&&(n.$$events=l),c=t(a,n)||{},o&&Pt()}),()=>{var T;for(var f of i){e.removeEventListener(f,H);var v=F.get(f);--v===0?(document.removeEventListener(f,H),F.delete(f)):F.set(f,v)}gt.delete(u),a!==r&&((T=a.parentNode)==null||T.removeChild(a))}});return ur.set(c,g),c}let ur=new WeakMap;function ar(t,e,r,n){var l=t.__attributes??(t.__attributes={});l[e]!==(l[e]=r)&&("__styles"in t&&(t.__styles={}),r==null?t.removeAttribute(e):typeof r!="string"&&fr(t).includes(e)?t[e]=r:t.setAttribute(e,r))}var wt=new Map;function fr(t){var e=wt.get(t.nodeName);if(e)return e;wt.set(t.nodeName,e=[]);for(var r,n=t,l=Element.prototype;l!==n;){r=xt(n);for(var o in r)r[o].set&&e.push(o);n=Tt(n)}return e}function cr(t=!1){const e=_,r=e.l.u;if(!r)return;let n=()=>Qe(e.s);if(t){let l=0,o={};const s=Mt(()=>{let i=!1;const u=e.s;for(const c in u)u[c]!==o[c]&&(o[c]=u[c],i=!0);return i&&l++,l});n=()=>et(s)}r.b.length&&Fe(()=>{yt(e,n),_t(r.b)}),rt(()=>{const l=Jt(()=>r.m.map(le));return()=>{for(const o of l)typeof o=="function"&&o()}}),r.a.length&&rt(()=>{yt(e,n),_t(r.a)})}function yt(t,e){if(t.l.s)for(const r of t.l.s)et(r);e()}function pr(t){_===null&&ye(),M&&_.l!==null?_r(_).m.push(t):rt(()=>{const e=Jt(t);if(typeof e=="function")return e})}function _r(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const dr="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(dr);ge();const vr="modulepreload",hr=function(t){return"/"+t},Et={},bt=function(e,r,n){let l=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(r.map(u=>{if(u=hr(u),u in Et)return;Et[u]=!0;const c=u.endsWith(".css"),g=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${g}`))return;const a=document.createElement("link");if(a.rel=c?"stylesheet":vr,c||(a.as="script"),a.crossOrigin="",a.href=u,i&&a.setAttribute("nonce",i),document.head.appendChild(a),c)return new Promise((f,v)=>{a.addEventListener("load",f),a.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=s,window.dispatchEvent(i),!i.defaultPrevented)throw s}return l.then(s=>{for(const i of s||[])i.status==="rejected"&&o(i.reason);return e().catch(o)})},Qt=async t=>{bt(()=>import("./install-dialog-4XZPyoBw.js"),__vite__mapDeps([0,1]));let e;try{e=await navigator.serial.requestPort()}catch(n){if(n.name==="NotFoundError"){bt(()=>import("./index-CXzaFU8d.js"),__vite__mapDeps([2,1])).then(l=>l.openNoPortPickedDialog(()=>Qt(t)));return}alert(`Error: ${n.message}`);return}if(!e)return;try{await e.open({baudRate:115200})}catch(n){alert(n.message);return}const r=document.createElement("ewt-install-dialog");r.port=e,r.manifestPath=t.manifest||t.getAttribute("manifest"),r.overrides=t.overrides,r.addEventListener("closed",()=>{e.close()},{once:!0}),document.body.appendChild(r)};class b extends HTMLElement{connectedCallback(){if(this.renderRoot)return;if(this.renderRoot=this.attachShadow({mode:"open"}),!b.isSupported||!b.isAllowed){this.toggleAttribute("install-unsupported",!0),this.renderRoot.innerHTML=b.isAllowed?"<slot name='unsupported'>Your browser does not support installing things on ESP devices. Use Google Chrome or Microsoft Edge.</slot>":"<slot name='not-allowed'>You can only install ESP devices on HTTPS websites or on the localhost.</slot>";return}this.toggleAttribute("install-supported",!0);const e=document.createElement("slot");e.addEventListener("click",async n=>{n.preventDefault(),Qt(this)}),e.name="activate";const r=document.createElement("button");if(r.innerText="Connect",e.append(r),"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype){const n=new CSSStyleSheet;n.replaceSync(b.style),this.renderRoot.adoptedStyleSheets=[n]}else{const n=document.createElement("style");n.innerText=b.style,this.renderRoot.append(n)}this.renderRoot.append(e)}}b.isSupported="serial"in navigator;b.isAllowed=window.isSecureContext;b.style=`
  button {
    position: relative;
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    padding: 10px 24px;
    color: var(--esp-tools-button-text-color, #fff);
    background-color: var(--esp-tools-button-color, #03a9f4);
    border: none;
    border-radius: var(--esp-tools-button-border-radius, 9999px);
  }
  button::before {
    content: " ";
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    opacity: 0.2;
    border-radius: var(--esp-tools-button-border-radius, 9999px);
  }
  button:hover::before {
    background-color: rgba(255,255,255,.8);
  }
  button:focus {
    outline: none;
  }
  button:focus::before {
    background-color: white;
  }
  button:active::before {
    background-color: grey;
  }
  :host([active]) button {
    color: rgba(0, 0, 0, 0.38);
    background-color: rgba(0, 0, 0, 0.12);
    box-shadow: none;
    cursor: unset;
    pointer-events: none;
  }
  .hidden {
    display: none;
  }`;customElements.define("esp-web-install-button",b);class St{static async getLatestFirmwareUrl(e=!1){const r="https://api.github.com/repos/MintyTrebor/zaparoo-esp32/releases";try{const n=await fetch(r);if(!n.ok)throw new Error(`GitHub API returned status: ${n.status}`);const o=(await n.json()).find(i=>(e||!i.prerelease)&&i.assets.some(u=>u.name==="ZaparooEsp32.ino.merged.bin"));if(!o)throw Error("Could not get release");const s=o.assets.find(i=>i.name==="ZaparooEsp32.ino.merged.bin");return s?s.browser_download_url:void 0}catch(n){throw console.error("Error fetching firmware URL:",n),n}}}var mr=or('<main><h1>Zaparoo Esp32 Installer</h1> <div id="install-button-container"></div></main>');function gr(t,e){Ot(e,!1);let r,n=be(!1);pr(()=>{r=new b,r.logConsole=!0,r.showLog=!0,r.eraseFirst=!0,St.getLatestFirmwareUrl(!0);const s=document.getElementById("install-button-container");s&&s.appendChild(r),St.getLatestFirmwareUrl(!0).then(i=>{const c=JSON.stringify({name:"Zaparoo ESP32",builds:[{chipFamily:"ESP32-S3",parts:[{path:i,offset:0}]}]},null,2),g=new Blob([c],{type:"application/json"}),a=URL.createObjectURL(g).toString();r.manifest=a,xe(n,!0)})}),cr();var l=mr(),o=Oe(Ce(l),2);Ue(()=>ar(o,"style",`display: ${(et(n)?"block":"none")??""}`)),lr(t,l),Pt()}sr(gr,{target:document.getElementById("app")});export{bt as _};
